# نظام النسخ الاحتياطي التلقائي لـ cPanel

تم إعداد نظام آلي لإنشاء نسخ احتياطية جاهزة لرفعها على cPanel بعد كل تعديل.

## المميزات

### 1. النسخ الاحتياطي التلقائي
- يتم إنشاء نسخة احتياطية تلقائياً بعد كل `push` إلى GitHub
- النسخة الاحتياطية تحتوي على ملفات `dist` الجاهزة للنشر
- لا تحتاج إلى تدخل يدوي

### 2. موقع النسخ الاحتياطية
```
C:\Users\xmd55\Desktop\in33.in\backup\backup-cursor\
```

### 3. محتويات النسخة الاحتياطية
كل نسخة احتياطية تحتوي على:
- **مجلد dist/**: جميع ملفات المشروع المبنية والجاهزة للنشر
- **backup-info.txt**: ملف يحتوي على معلومات النسخة الاحتياطية
- **ملف مضغوط (.zip)**: نسخة مضغوطة من كل المحتويات

### 4. تسمية النسخ الاحتياطية
تسمية تلقائية بالتاريخ والوقت:
```
cpanel-backup_YYYY-MM-DD_HH-MM-SS
```

مثال:
```
cpanel-backup_2025-11-08_10-06-20
```

## الاستخدام

### إنشاء نسخة احتياطية يدوياً
إذا أردت إنشاء نسخة احتياطية بدون انتظار التزامن التلقائي:

```bash
npm run backup:cpanel
```

### إنشاء نسخة احتياطية تلقائياً
يتم إنشاء النسخة تلقائياً عند:
1. تشغيل `npm run sync:push`
2. تشغيل نظام المزامنة التلقائي
3. أي عملية `push` إلى GitHub

### كيفية رفع النسخة الاحتياطية إلى cPanel

#### الطريقة 1: باستخدام File Manager في cPanel (موصى بها)
1. سجل الدخول إلى cPanel
2. افتح File Manager
3. انتقل إلى `/public_html/in33.in`
4. احذف جميع الملفات القديمة (اختياري)
5. ارفع محتويات مجلد `dist` من النسخة الاحتياطية
6. تحقق من أن جميع الملفات تم رفعها بنجاح

#### الطريقة 2: باستخدام الملف المضغوط
1. سجل الدخول إلى cPanel
2. افتح File Manager
3. انتقل إلى `/public_html/in33.in`
4. ارفع الملف المضغوط `.zip`
5. انقر بزر الماوس الأيمن على الملف المضغوط
6. اختر "Extract"
7. انقل محتويات مجلد `dist` إلى `/public_html/in33.in`
8. احذف الملف المضغوط

#### الطريقة 3: باستخدام FTP
1. افتح FileZilla أو أي عميل FTP آخر
2. اتصل بـ cPanel باستخدام بيانات FTP:
   - Host: `ftp.u2890132.cp.regruhosting.ru`
   - Username: `in@in33.in`
   - Password: `@@@Tayo0991`
   - Port: `21`
3. انتقل إلى `/public_html/in33.in`
4. ارفع محتويات مجلد `dist` من النسخة الاحتياطية

## معلومات إضافية

### حجم النسخة الاحتياطية
- حجم نموذجي: ~40 MB
- يحتوي على جميع الملفات الضرورية للموقع

### الملفات المستثناة
النسخة الاحتياطية لا تحتوي على:
- node_modules
- .git
- .env
- ملفات السورس كود الخام

### تنظيف النسخ الاحتياطية القديمة
يُنصح بمراجعة مجلد النسخ الاحتياطية بشكل دوري وحذف النسخ القديمة:
```
C:\Users\xmd55\Desktop\in33.in\backup\backup-cursor\
```

## الأوامر المتاحة

| الأمر | الوصف |
|-------|-------|
| `npm run backup:cpanel` | إنشاء نسخة احتياطية يدوياً |
| `npm run sync:push` | رفع التحديثات + نسخة احتياطية تلقائية |
| `npm run dev` | تشغيل السيرفر المحلي |
| `npm run build` | بناء المشروع فقط |

## حل المشاكل

### المشكلة: فشل إنشاء النسخة الاحتياطية
**الحل**: 
1. تأكد من وجود مجلد `home/dist`
2. قم بتشغيل `npm run build` يدوياً
3. تحقق من مساحة القرص المتاحة

### المشكلة: النسخة الاحتياطية كبيرة جداً
**الحل**: هذا طبيعي، النسخة تحتوي على جميع ملفات الموقع بما في ذلك الصور والخطوط.

### المشكلة: لا يتم إنشاء نسخة احتياطية تلقائياً
**الحل**:
1. تأكد من أنك استخدمت `npm run sync:push`
2. تحقق من سجل الأخطاء في `sync-log.json`

## الأمان

- النسخ الاحتياطية محلية فقط
- لا تحتوي على ملفات `.env` أو بيانات حساسة
- يُنصح بحذف النسخ القديمة بشكل دوري

---

**آخر تحديث**: 8 نوفمبر 2025
**الإصدار**: 1.0.0


